/* ===== LUAE TAROT - JS CONCATENADO ===== */
/* Build: 2025-07-08T17:18:23.607Z */

/* === config.js === */
(function(){
/* ===== CONFIGURAÇÕES ===== */
/* Configurações globais e dados do tarot */

// Cache de elementos DOM para melhor performance
const domCache = {
  navLinks: null,
  cartas: null,
  descDiv: null,
  relatos: null,
  indicadoresContainer: null,
  btnTirarCarta: null,
  cartaTiradaDiv: null,
  imgCarta: null,
  nomeCarta: null,
  mensagemCarta: null,
  tarotLoading: null
};

// Cache de imagens das cartas para melhor performance
const imageCache = new Map();

// Tiragem de Tarot Grátis - Dados das cartas
const arcanos = [
  { nome: 'O Mago', img: 'images/optimized/mago.png', mensagem: 'O Mago traz iniciativa, criatividade e poder de manifestação. Use seus talentos para agir no tema mentalizado.' },
  { nome: 'A Sacerdotisa', img: 'images/optimized/sacerdotisa.png', mensagem: 'A Sacerdotisa pede que você confie na sua intuição sobre esse tema. Silencie a mente, ouça sua voz interior e permita que a sabedoria espiritual te guie.' },
  { nome: 'A Imperatriz', img: 'images/optimized/imperatriz.png', mensagem: 'A Imperatriz traz abundância e criatividade para o seu tema. Nutra suas ideias, confie no seu potencial de realização e permita que o novo floresça em sua vida.' },
  { nome: 'O Imperador', img: 'images/optimized/imperador.png', mensagem: 'Para o tema que você mentalizou, O Imperador indica que é hora de assumir o controle, agir com firmeza e estruturar seus planos. Confie na sua liderança e organize seus próximos passos.' },
  { nome: 'O Papa', img: 'images/optimized/papa.png', mensagem: 'O Papa sugere buscar orientação, tradição ou conselhos de alguém experiente para o seu tema.' },
  { nome: 'Os Enamorados', img: 'images/optimized/enamorados.png', mensagem: 'Os Enamorados mostram que escolhas importantes estão ligadas ao seu tema. Siga o caminho do coração e alinhe suas decisões com seus valores mais profundos.' },
  { nome: 'O Carro', img: 'images/optimized/carro.png', mensagem: 'O Carro indica movimento, conquista e superação de obstáculos. Siga em frente com determinação.' },
  { nome: 'A Justiça', img: 'images/optimized/justica.png', mensagem: 'A Justiça orienta que, para o tema mentalizado, é importante agir com equilíbrio, honestidade e responsabilidade. Busque a verdade e tome decisões justas.' },
  { nome: 'O Eremita', img: 'images/optimized/eremita.png', mensagem: 'O Eremita sugere reflexão, busca interior e sabedoria. Tire um tempo para pensar antes de agir.' },
  { nome: 'A Roda da Fortuna', img: 'images/optimized/fortuna.png', mensagem: 'A Roda da Fortuna traz mudanças e ciclos. Aceite o fluxo da vida e adapte-se ao novo.' },
  { nome: 'A Força', img: 'images/optimized/forca.png', mensagem: 'A Força indica coragem, domínio das emoções e resiliência. Confie no seu poder interior.' },
  { nome: 'O Pendurado', img: 'images/optimized/pendurado.png', mensagem: 'O Pendurado pede uma nova perspectiva ou pausa. Reflita antes de tomar decisões.' },
  { nome: 'A Morte', img: 'images/optimized/morte.png', mensagem: 'A Morte representa transformação e renascimento. Deixe o velho para trás e abra-se ao novo.' },
  { nome: 'A Temperança', img: 'images/optimized/temperanca.png', mensagem: 'A Temperança sugere equilíbrio, paciência e harmonia. Busque o meio-termo para o seu tema.' },
  { nome: 'O Diabo', img: 'images/optimized/diabo.png', mensagem: 'O Diabo alerta para apegos, vícios ou ilusões. Liberte-se do que te prende.' },
  { nome: 'A Torre', img: 'images/optimized/torre.png', mensagem: 'A Torre indica mudanças inesperadas ou rupturas. Confie que tudo acontece para o seu crescimento.' },
  { nome: 'A Estrela', img: 'images/optimized/estrela.png', mensagem: 'A Estrela traz esperança, inspiração e cura. Acredite em dias melhores.' },
  { nome: 'A Lua', img: 'images/optimized/lua.png', mensagem: 'A Lua fala de intuição, mistérios e emoções profundas. Confie nos seus sentimentos.' },
  { nome: 'O Sol', img: 'images/optimized/sol.png', mensagem: 'O Sol simboliza clareza, alegria e realização. Traz luz para todas as situações.' },
  { nome: 'O Julgamento', img: 'images/optimized/julgamento.png', mensagem: 'O Julgamento sugere renascimento, avaliação e decisões importantes. Reflita sobre o passado e siga em frente.' },
  { nome: 'O Mundo', img: 'images/optimized/mundo.png', mensagem: 'O Mundo indica realização, conclusão de ciclos e plenitude. Celebre suas conquistas.' },
  { nome: 'O Louco', img: 'images/optimized/louco.png', mensagem: 'O Louco fala sobre novos começos, liberdade e confiança no universo. Abra-se para o desconhecido.' }
];

// Descrições das cartas para seção de cartas
const descricoes = {
  sacerdotisa: 'A Sacerdotisa representa intuição, mistério e sabedoria interior. Convida à escuta do próprio coração.',
  sol: 'O Sol simboliza clareza, alegria e realização. Traz luz para todas as situações.',
  louco: 'O Louco fala sobre novos começos, liberdade e confiança no universo. Abra-se para o desconhecido.'
};

// Configurações do carrossel
const carouselConfig = {
  interval: 4000, // 4 segundos
  animationDuration: 700 // 700ms
};

// Configurações do tarot
const tarotConfig = {
  loadingDuration: 1500, // 1.5 segundos
  animationDelay: 30 // 30ms
}; 
})();

/* === utils.js === */
(function(){
/* ===== UTILITÁRIOS ===== */
/* Funções utilitárias e helpers */

// Função para pré-carregar imagens
function preloadImages() {
  arcanos.forEach(carta => {
    const img = new Image();
    img.src = carta.img;
    imageCache.set(carta.nome, img);
  });
}

// Função para inicializar cache DOM
function initDOMCache() {
  domCache.navLinks = document.querySelectorAll('.navbar a[href^="#"]');
  domCache.cartas = document.querySelectorAll('.carta');
  domCache.descDiv = document.getElementById('descricao-carta');
  domCache.relatos = document.querySelectorAll('.carrossel-relatos .relato');
  domCache.indicadoresContainer = document.querySelector('.indicadores-carrossel');
  domCache.btnTirarCarta = document.getElementById('btn-tirar-carta');
  domCache.cartaTiradaDiv = document.getElementById('carta-tirada');
  domCache.imgCarta = document.getElementById('img-carta');
  domCache.nomeCarta = document.getElementById('nome-carta');
  domCache.mensagemCarta = document.getElementById('mensagem-carta');
  domCache.tarotLoading = document.getElementById('tarot-loading');
}

// Função para scroll suave
function smoothScrollTo(target, offset = 70) {
  if (target) {
    window.scrollTo({
      top: target.offsetTop - offset,
      behavior: 'smooth'
    });
  }
}

// Função para debounce (otimização de performance)
function debounce(func, wait) {
  let timeout;
  return function executedFunction(...args) {
    const later = () => {
      clearTimeout(timeout);
      func(...args);
    };
    clearTimeout(timeout);
    timeout = setTimeout(later, wait);
  };
}

// Função para verificar se elemento existe
function elementExists(element) {
  return element !== null && element !== undefined;
}

// Função para adicionar classe com delay
function addClassWithDelay(element, className, delay) {
  setTimeout(() => {
    if (elementExists(element)) {
      element.classList.add(className);
    }
  }, delay);
}

// Função para remover classe com delay
function removeClassWithDelay(element, className, delay) {
  setTimeout(() => {
    if (elementExists(element)) {
      element.classList.remove(className);
    }
  }, delay);
}

// Função para mostrar elemento
function showElement(element) {
  if (elementExists(element)) {
    element.style.display = 'flex';
  }
}

// Função para esconder elemento
function hideElement(element) {
  if (elementExists(element)) {
    element.style.display = 'none';
  }
}

// Função para desabilitar botão
function disableButton(button) {
  if (elementExists(button)) {
    button.disabled = true;
  }
}

// Função para habilitar botão
function enableButton(button) {
  if (elementExists(button)) {
    button.disabled = false;
  }
} 
})();

/* === navigation.js === */
(function(){
/* ===== NAVEGAÇÃO ===== */
/* Funcionalidade de navegação suave */

// Inicializar navegação
function initNavigation() {
  if (domCache.navLinks) {
    domCache.navLinks.forEach(link => {
      link.addEventListener('click', handleNavigationClick);
    });
  }
}

// Handler para clique na navegação
function handleNavigationClick(e) {
  e.preventDefault();
  const href = this.getAttribute('href');
  const target = document.querySelector(href);
  smoothScrollTo(target);
}

// Inicializar quando DOM estiver pronto
document.addEventListener('DOMContentLoaded', initNavigation); 
})();

/* === cards.js === */
(function(){
/* ===== CARTAS ===== */
/* Funcionalidade das cartas de tarot */

// Inicializar funcionalidade das cartas
function initCards() {
  if (domCache.cartas && domCache.descDiv) {
    domCache.cartas.forEach(carta => {
      carta.addEventListener('click', handleCardClick);
    });
  }
}

// Handler para clique nas cartas
function handleCardClick() {
  const key = this.getAttribute('data-carta');
  const descricao = descricoes[key] || '';
  domCache.descDiv.textContent = descricao;
}

// Inicializar quando DOM estiver pronto
document.addEventListener('DOMContentLoaded', initCards); 
})();

/* === carousel.js === */
(function(){
/* ===== CARROSSEL ===== */
/* (Lógica do carrossel centralizada em main.js para evitar conflitos) */
// Este arquivo está vazio para evitar duplicidade de eventos e bugs. 
})();

/* === tarot.js === */
(function(){
/* ===== TAROT ===== */
/* (Lógica de tiragem de carta centralizada em main.js para evitar conflitos) */
// Este arquivo está vazio para evitar duplicidade de eventos e bugs. 
})();

/* === cookies.js === */
(function(){
/* ===== COOKIES ===== */
/* Banner de cookies */

// Mostrar banner de cookies
function showCookieBanner() {
  if (localStorage.getItem('cookieAccepted')) return;
  
  const banner = document.createElement('div');
  banner.className = 'cookie-banner';
  banner.innerHTML = `
    Este site utiliza cookies essenciais para seu funcionamento. Não coletamos dados pessoais nem utilizamos cookies de rastreamento. Ao continuar navegando, você concorda com nossa <a href='politica-privacidade.html' target='_blank' style='color:#22304a;text-decoration:underline;'>Política de Privacidade</a>.
    <button id='btn-aceitar-cookies'>Ok, entendi</button>
  `;
  
  document.body.appendChild(banner);
  
  // Adicionar event listener ao botão
  const btnAceitar = document.getElementById('btn-aceitar-cookies');
  if (btnAceitar) {
    btnAceitar.addEventListener('click', acceptCookies);
  }
}

// Aceitar cookies
function acceptCookies() {
  localStorage.setItem('cookieAccepted', '1');
  const banner = document.querySelector('.cookie-banner');
  if (banner) {
    banner.remove();
  }
}

// Verificar se cookies foram aceitos
function checkCookieAcceptance() {
  return localStorage.getItem('cookieAccepted') === '1';
}

// Inicializar quando DOM estiver pronto
document.addEventListener('DOMContentLoaded', showCookieBanner); 
})();

/* === main.js === */
(function(){
/* ===== LUAE TAROT - MAIN JS ===== */
/* Arquivo principal que inicializa todos os módulos */

// Cache de elementos DOM para melhor performance
const domCache = {
  navLinks: null,
  cartas: null,
  descDiv: null,
  relatos: null,
  indicadoresContainer: null,
  btnTirarCarta: null,
  cartaTiradaDiv: null,
  imgCarta: null,
  nomeCarta: null,
  mensagemCarta: null,
  tarotLoading: null
};

// Cache de imagens das cartas para melhor performance
const imageCache = new Map();

// Tiragem de Tarot Grátis
const arcanos = [
  { nome: 'O Mago', img: 'images/optimized/mago.png', mensagem: 'O Mago traz iniciativa, criatividade e poder de manifestação. Use seus talentos para agir no tema mentalizado.' },
  { nome: 'A Sacerdotisa', img: 'images/optimized/sacerdotisa.png', mensagem: 'A Sacerdotisa pede que você confie na sua intuição sobre esse tema. Silencie a mente, ouça sua voz interior e permita que a sabedoria espiritual te guie.' },
  { nome: 'A Imperatriz', img: 'images/optimized/imperatriz.png', mensagem: 'A Imperatriz traz abundância e criatividade para o seu tema. Nutra suas ideias, confie no seu potencial de realização e permita que o novo floresça em sua vida.' },
  { nome: 'O Imperador', img: 'images/optimized/imperador.png', mensagem: 'Para o tema que você mentalizou, O Imperador indica que é hora de assumir o controle, agir com firmeza e estruturar seus planos. Confie na sua liderança e organize seus próximos passos.' },
  { nome: 'O Papa', img: 'images/optimized/papa.png', mensagem: 'O Papa sugere buscar orientação, tradição ou conselhos de alguém experiente para o seu tema.' },
  { nome: 'Os Enamorados', img: 'images/optimized/enamorados.png', mensagem: 'Os Enamorados mostram que escolhas importantes estão ligadas ao seu tema. Siga o caminho do coração e alinhe suas decisões com seus valores mais profundos.' },
  { nome: 'O Carro', img: 'images/optimized/carro.png', mensagem: 'O Carro indica movimento, conquista e superação de obstáculos. Siga em frente com determinação.' },
  { nome: 'A Justiça', img: 'images/optimized/justica.png', mensagem: 'A Justiça orienta que, para o tema mentalizado, é importante agir com equilíbrio, honestidade e responsabilidade. Busque a verdade e tome decisões justas.' },
  { nome: 'O Eremita', img: 'images/optimized/eremita.png', mensagem: 'O Eremita sugere reflexão, busca interior e sabedoria. Tire um tempo para pensar antes de agir.' },
  { nome: 'A Roda da Fortuna', img: 'images/optimized/fortuna.png', mensagem: 'A Roda da Fortuna traz mudanças e ciclos. Aceite o fluxo da vida e adapte-se ao novo.' },
  { nome: 'A Força', img: 'images/optimized/forca.png', mensagem: 'A Força indica coragem, domínio das emoções e resiliência. Confie no seu poder interior.' },
  { nome: 'O Pendurado', img: 'images/optimized/pendurado.png', mensagem: 'O Pendurado pede uma nova perspectiva ou pausa. Reflita antes de tomar decisões.' },
  { nome: 'A Morte', img: 'images/optimized/morte.png', mensagem: 'A Morte representa transformação e renascimento. Deixe o velho para trás e abra-se ao novo.' },
  { nome: 'A Temperança', img: 'images/optimized/temperanca.png', mensagem: 'A Temperança sugere equilíbrio, paciência e harmonia. Busque o meio-termo para o seu tema.' },
  { nome: 'O Diabo', img: 'images/optimized/diabo.png', mensagem: 'O Diabo alerta para apegos, vícios ou ilusões. Liberte-se do que te prende.' },
  { nome: 'A Torre', img: 'images/optimized/torre.png', mensagem: 'A Torre indica mudanças inesperadas ou rupturas. Confie que tudo acontece para o seu crescimento.' },
  { nome: 'A Estrela', img: 'images/optimized/estrela.png', mensagem: 'A Estrela traz esperança, inspiração e cura. Acredite em dias melhores.' },
  { nome: 'A Lua', img: 'images/optimized/lua.png', mensagem: 'A Lua fala de intuição, mistérios e emoções profundas. Confie nos seus sentimentos.' },
  { nome: 'O Sol', img: 'images/optimized/sol.png', mensagem: 'O Sol simboliza clareza, alegria e realização. Traz luz para todas as situações.' },
  { nome: 'O Julgamento', img: 'images/optimized/julgamento.png', mensagem: 'O Julgamento sugere renascimento, avaliação e decisões importantes. Reflita sobre o passado e siga em frente.' },
  { nome: 'O Mundo', img: 'images/optimized/mundo.png', mensagem: 'O Mundo indica realização, conclusão de ciclos e plenitude. Celebre suas conquistas.' },
  { nome: 'O Louco', img: 'images/optimized/louco.png', mensagem: 'O Louco fala sobre novos começos, liberdade e confiança no universo. Abra-se para o desconhecido.' }
];

// Descrições das cartas
const descricoes = {
  sacerdotisa: 'A Sacerdotisa representa intuição, mistério e sabedoria interior. Convida à escuta do próprio coração.',
  sol: 'O Sol simboliza clareza, alegria e realização. Traz luz para todas as situações.',
  louco: 'O Louco fala sobre novos começos, liberdade e confiança no universo. Abra-se para o desconhecido.'
};

// Função para pré-carregar imagens
function preloadImages() {
  arcanos.forEach(carta => {
    const img = new Image();
    img.src = carta.img;
    imageCache.set(carta.nome, img);
  });
}

// Função para inicializar cache DOM e funcionalidades
function initDOMCache() {
  domCache.navLinks = document.querySelectorAll('.navbar a[href^="#"]');
  domCache.cartas = document.querySelectorAll('.carta');
  domCache.descDiv = document.getElementById('descricao-carta');
  domCache.relatos = document.querySelectorAll('.carrossel-relatos .relato');
  domCache.indicadoresContainer = document.querySelector('.indicadores-carrossel');
  domCache.btnTirarCarta = document.getElementById('btn-tirar-carta');
  domCache.cartaTiradaDiv = document.getElementById('carta-tirada');
  domCache.imgCarta = document.getElementById('img-carta');
  domCache.nomeCarta = document.getElementById('nome-carta');
  domCache.mensagemCarta = document.getElementById('mensagem-carta');
  domCache.tarotLoading = document.getElementById('tarot-loading');

  // Scroll suave para navegação
  if (domCache.navLinks) {
    domCache.navLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          window.scrollTo({
            top: target.offsetTop - 70,
            behavior: 'smooth'
          });
        }
      });
    });
  }

  // Event listeners para cartas (usando cache)
  if (domCache.cartas && domCache.descDiv) {
    domCache.cartas.forEach(carta => {
      carta.addEventListener('click', () => {
        const key = carta.getAttribute('data-carta');
        domCache.descDiv.textContent = descricoes[key] || '';
      });
    });
  }

  // Carrossel de relatos dos clientes (restaurado)
  if (domCache.relatos && domCache.indicadoresContainer) {
    let idxRelato = 0;
    let bolinhas = [];
    if (domCache.relatos.length > 1) {
      domCache.indicadoresContainer.innerHTML = '';
      bolinhas = [];
      domCache.relatos.forEach((_, i) => {
        const bolinha = document.createElement('span');
        bolinha.className = 'bolinha' + (i === 0 ? ' ativa' : '');
        domCache.indicadoresContainer.appendChild(bolinha);
        bolinhas.push(bolinha);
      });
      setInterval(() => {
        const atual = domCache.relatos[idxRelato];
        atual.classList.remove('ativo');
        atual.classList.add('saindo');
        setTimeout(() => {
          atual.classList.remove('saindo');
        }, 700);
        idxRelato = (idxRelato + 1) % domCache.relatos.length;
        domCache.relatos[idxRelato].classList.add('ativo');
        // Atualiza bolinhas
        if (bolinhas.length) {
          bolinhas.forEach((b, i) => b.classList.toggle('ativa', i === idxRelato));
        }
      }, 4000);
    }
  }

  // Event listener para tiragem de tarot (usando cache)
  if (domCache.btnTirarCarta && domCache.tarotLoading && domCache.cartaTiradaDiv && domCache.imgCarta && domCache.nomeCarta && domCache.mensagemCarta) {
    domCache.btnTirarCarta.addEventListener('click', () => {
      // Esconde carta anterior e mostra loading
      domCache.cartaTiradaDiv.style.display = 'none';
      domCache.tarotLoading.style.display = 'flex';
      domCache.btnTirarCarta.disabled = true;
      // Simula conexão com o universo
      setTimeout(() => {
        const idx = Math.floor(Math.random() * arcanos.length);
        const carta = arcanos[idx];
        domCache.imgCarta.src = carta.img;
        domCache.imgCarta.alt = carta.nome;
        domCache.nomeCarta.textContent = carta.nome;
        domCache.mensagemCarta.textContent = carta.mensagem;
        domCache.tarotLoading.style.display = 'none';
        domCache.cartaTiradaDiv.style.display = 'flex';
        domCache.cartaTiradaDiv.classList.remove('mostrar');
        setTimeout(() => {
          domCache.cartaTiradaDiv.classList.add('mostrar');
          domCache.btnTirarCarta.disabled = false;
        }, 30);
      }, 1500);
    });
  }

  // Pré-carregar imagens
  preloadImages();

  // Inicializar carrossel de depoimentos (após domCache estar pronto)
  if (typeof window.initCarousel === 'function') {
    window.initCarousel();
  }
}

// Inicializar aplicação
function initApp() {
  // Inicializar cache DOM
  initDOMCache();
  
  // Pré-carregar imagens
  preloadImages();
  
  console.log('🚀 Luaé Tarot inicializado com sucesso!');
}

// Inicializar quando DOM estiver pronto
document.addEventListener('DOMContentLoaded', initApp);

// Inicializar quando página estiver completamente carregada
window.addEventListener('load', () => {
  console.log('📱 Site carregado completamente');
}); 
})();

